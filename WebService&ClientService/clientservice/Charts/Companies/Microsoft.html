<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];
			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [42.86	,
42.74	,
43.23	,
44.08	,
44.27	,
44.95	,
45.22	,
44.87	,
44.88	,
45.09	,
44.96	,
45.26	,
45.91	,
46.47	,
46.76	,
46.84	,
47	,
46.7	,
46.24	,
46.76	,
46.52	,
46.68	,
47.52	,
47.06	,
46.56	,
47.08	,
46.04	,
46.41	,
46.44	,
46.36	,
39.8	,
39.82	,
40.47	,
39.36	,
39.21	,
39.18	,
39.75	,
40.4	,
40.01	,
39.94	,
39.99	,
39.69	,
39.86	,
39.91	,
40.87	,
40.51	,
40.4	,
40	,
39.69	,
39.43	,
39.06	,
39.42	,
39.64	,
39.54	,
39.97	,
40.42	,
40.24	,
39.6	,
39.83	,
39.75	,
39.68	,
40.35	,
40.1	,
40.12	,
40.19	,
40.01	,
40.34	,
40.94	,
40.79	,
40.29	,
40.32	,
41.21	,
41.48	,
41.27	,
41.11	,
40.86	,
40.58	,
41.23	,
41.5	,
41.68	,
41.65	,
41.51	,
41.68	,
41.99	,
41.74	,
42.03	,
41.72	,
42.25	,
41.7	,
41.87	,
41.9	,
41.8	,
41.99	,
41.78	,
41.67	,
41.68	,
42.09	,
42.14	,
42.45	,
44.08	,
44.53	,
44.69	,
44.84	,
44.83	,
44.87	,
44.4	,
44.5	,
43.97	,
43.88	,
43.58	,
43.16	,
42.86	,
43.37	,
43.08	,
42.74	,
43.23	,
43.2	,
43.2	,
43.52	,
44.08	,
44.27	,
44.79	,
45.11	,
45.33	,
44.95	,
45.22	,
45.15	,
45.17	,
45	,
44.87	,
44.88	,
45.43	,
45.09	,
44.96	,
45.26	,
45.91	,
46.47	,
46.76	,
46.84	,
47	,
46.7	,
46.24	,
46.76	,
46.52	,
46.68	,
47.52	,
47.06	,
46.56	,
47.08	,
46.04	,
46.41	,
46.44	,
46.36	,
45.9	,
45.76	,
46.09	,
46.09	,
45.53	,
46.78	,
45.85	,
44.03	,
43.65	,
43.73	,
43.22	,
42.74	,
43.63	,
44.08	,
44.88	,
44.38	,
45.02	,
46.13	,
45.91	,
46.49	,
46.62	,
46.05	,
46.95	,
47.44	,
47.57	,
47.86	,
48.7	,
48.68	,
48.89	,
48.87	,
48.78	,
49.61	,
49.58	,
49.46	,
48.74	,
48.22	,
48.7	,
47.98	,
47.59	,
47.47	,
47.75	,
47.81	,
48.62	,
48.46	,
48.08	,
48.84	,
48.42	,
47.7	,
47.59	,
46.9	,
47.17	,
46.95	,
46.67	,
45.16	,
45.74	,
47.52	,
47.66	,
47.98	,
48.45	,
48.14	,
47.88	,
47.45	,
47.02	,
46.45	,
46.76	,
46.32	,
45.65	,
46.23	,
47.59	,
47.19	,
46.6	,
46.36	,
45.96	,
45.48	,
46.24	,
46.39	,
45.92	,
47.13	,
47.18	,
47.01	,
42.66	,
41.19	,
42.01	,
40.4	,
41.28	,
41.6	,
41.84	,
42.45	,
42.41	,
42.36	,
42.6	,
42.38	,
43.09	,
43.87	,
43.58	,
43.53	,
43.5	,
43.86	,
44.15	,
44.09	,
43.99	,
44.06	,
43.85	,
43.88	,
43.28	,
43.06	,
43.11	,
42.36	,
42.85	,
42.03	,
41.98	,
41.02	,
41.38	,
41.56	,
41.7	,
42.5	,
42.28	,
42.88	,
42.86	,
42.9	,
41.46	,
41.21	,
40.97	,
40.96	,
40.66	,
40.72	,
40.29	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>