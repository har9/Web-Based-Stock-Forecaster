<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [189.15	,
185.97	,
184.3	,
187.95	,
187.88	,
190.1	,
191.23	,
192.25	,
192	,
191.56	,
191.95	,
190.68	,
191.2	,
190.14	,
189.99	,
191.54	,
191.72	,
191.28	,
191.81	,
192.96	,
192.8	,
193.75	,
194	,
193.11	,
191.62	,
192.31	,
189.01	,
190.06	,
189.64	,
189.83	,
194.52	,
193.29	,
196.64	,
195.68	,
195.19	,
197.77	,
197.02	,
196.4	,
190.01	,
192.27	,
192.15	,
191.73	,
190.22	,
189.63	,
193.14	,
195.11	,
196.47	,
193.53	,
191.44	,
191.26	,
190.03	,
189.3	,
188.91	,
190.08	,
192.57	,
192.19	,
188.72	,
186.46	,
187.06	,
187	,
184.89	,
186.39	,
185.68	,
185.94	,
184.78	,
183.08	,
183.76	,
184.36	,
185.69	,
184.37	,
184.51	,
185.98	,
186.37	,
186.22	,
184.29	,
182.25	,
181.22	,
182.56	,
182.35	,
182.26	,
183.6	,
182.82	,
181.55	,
182.14	,
180.88	,
180.72	,
180.37	,
181.71	,
181.27	,
186.35	,
188.39	,
188.53	,
188.04	,
187.22	,
188.42	,
187.7	,
188	,
189.86	,
188.49	,
192.36	,
192.49	,
192.5	,
190.85	,
194.09	,
193.63	,
195.24	,
194.4	,
195.78	,
194.57	,
194	,
191.67	,
189.15	,
189.64	,
187.1	,
185.97	,
184.3	,
186.63	,
187.47	,
187.34	,
187.95	,
187.88	,
187.38	,
189.36	,
190.07	,
190.1	,
191.23	,
190.41	,
191.16	,
192.99	,
192.25	,
192	,
192.3	,
191.56	,
191.95	,
190.68	,
191.2	,
190.14	,
189.99	,
191.54	,
191.72	,
191.28	,
191.81	,
192.96	,
192.8	,
193.75	,
194	,
193.11	,
191.62	,
192.31	,
189.01	,
190.06	,
189.64	,
189.83	,
187.17	,
186.91	,
188.67	,
189.04	,
185.71	,
189.36	,
186.42	,
185.93	,
183.52	,
183.8	,
181.75	,
179.84	,
182.05	,
169.1	,
163.23	,
161.79	,
162.18	,
162.08	,
161.87	,
163.6	,
163.46	,
164.35	,
164.4	,
164.36	,
162.65	,
161.82	,
161.46	,
162.07	,
163.49	,
163.3	,
161.92	,
162.79	,
164.16	,
164.16	,
161.89	,
161.43	,
160.64	,
160.92	,
162.15	,
161.76	,
161.95	,
162.17	,
161.54	,
162.67	,
164.52	,
164.05	,
163.27	,
161.86	,
162.99	,
160.51	,
161.07	,
155.38	,
153.06	,
151.41	,
151.93	,
157.68	,
158.51	,
161.44	,
162.24	,
161.82	,
162.34	,
160.51	,
160.05	,
160.44	,
162.06	,
159.51	,
156.07	,
155.05	,
158.42	,
159.11	,
156.44	,
156.81	,
155.8	,
154.57	,
157.14	,
156.95	,
152.09	,
155.39	,
155.87	,
156.36	,
153.67	,
151.55	,
155.48	,
153.31	,
154.66	,
158.47	,
156.96	,
157.91	,
156.72	,
155.75	,
158.56	,
158.2	,
158.52	,
160.4	,
160.96	,
162.19	,
163.89	,
163.65	,
162.91	,
164.83	,
162.81	,
160.87	,
161.94	,
160.48	,
161.03	,
159.42	,
161.18	,
158.5	,
160.77	,
157.81	,
156.8	,
157.98	,
154.28	,
157.08	,
156.96	,
159.81	,
159.81	,
162.88	,
164.63	,
163	,
159.2	,
160.59	,
160.4	,
162.67	,
160.5	,
159.18	,
160.45	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>