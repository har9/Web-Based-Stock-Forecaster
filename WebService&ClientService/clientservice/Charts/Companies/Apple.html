<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
        <script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);


				var data = [96.13	,
94.96	,
94.48	,
97.24	,
97.5	,
100.57	,
100.58	,
102.13	,
102.25	,
103.3	,
98.94	,
98.12	,
98.97	,
98.36	,
97.99	,
101	,
101.43	,
101.66	,
101.63	,
100.86	,
101.58	,
101.79	,
100.96	,
101.06	,
102.64	,
101.75	,
97.87	,
100.75	,
100.11	,
100.75	,
74.78	,
74.78	,
75.76	,
74.78	,
74.23	,
74.53	,
73.99	,
74.14	,
74.99	,
75.88	,
75.96	,
74.96	,
81.11	,
81.71	,
84.87	,
84.62	,
84.3	,
84.5	,
84.65	,
85.85	,
84.92	,
84.62	,
84	,
83.65	,
84.69	,
84.82	,
84.84	,
84.12	,
85.36	,
86.37	,
86.39	,
86.62	,
86.75	,
87.73	,
89.38	,
89.14	,
90.77	,
90.43	,
89.81	,
91.08	,
92.12	,
92.48	,
92.22	,
93.7	,
94.25	,
93.86	,
92.29	,
91.28	,
92.2	,
92.08	,
92.18	,
91.86	,
90.91	,
90.83	,
90.28	,
90.36	,
90.9	,
91.98	,
92.93	,
93.52	,
93.48	,
94.03	,
95.97	,
95.35	,
95.39	,
95.04	,
95.22	,
96.45	,
95.32	,
94.78	,
93.09	,
94.43	,
93.94	,
94.72	,
97.19	,
97.03	,
97.67	,
99.02	,
98.38	,
98.15	,
95.6	,
96.13	,
95.59	,
95.12	,
94.96	,
94.48	,
94.74	,
95.99	,
95.97	,
97.24	,
97.5	,
97.98	,
99.16	,
100.53	,
100.57	,
100.58	,
101.32	,
101.54	,
100.89	,
102.13	,
102.25	,
102.5	,
103.3	,
98.94	,
98.12	,
98.97	,
98.36	,
97.99	,
101	,
101.43	,
101.66	,
101.63	,
100.86	,
101.58	,
101.79	,
100.96	,
101.06	,
102.64	,
101.75	,
97.87	,
100.75	,
100.11	,
100.75	,
99.18	,
99.9	,
99.62	,
99.62	,
98.75	,
100.8	,
101.02	,
100.73	,
99.81	,
98.75	,
97.54	,
96.26	,
97.67	,
99.76	,
102.47	,
102.99	,
104.83	,
105.22	,
105.11	,
106.74	,
107.34	,
106.98	,
108	,
109.4	,
108.6	,
108.86	,
108.7	,
109.01	,
108.83	,
109.7	,
111.25	,
112.82	,
114.18	,
113.99	,
115.47	,
114.67	,
116.31	,
116.47	,
118.62	,
117.6	,
119	,
118.93	,
115.07	,
114.63	,
115.93	,
115.49	,
115	,
112.4	,
114.12	,
111.95	,
111.62	,
109.73	,
108.22	,
106.74	,
109.41	,
112.65	,
111.78	,
112.94	,
112.54	,
112.01	,
113.99	,
113.91	,
112.52	,
110.38	,
109.33	,
106.25	,
106.26	,
107.75	,
111.89	,
112.01	,
109.25	,
110.22	,
109.8	,
106.82	,
105.99	,
108.72	,
109.55	,
112.4	,
112.98	,
113.1	,
109.14	,
115.31	,
118.9	,
117.16	,
118.63	,
118.65	,
119.56	,
119.94	,
118.93	,
119.72	,
122.02	,
124.88	,
126.46	,
127.08	,
127.83	,
128.72	,
128.45	,
129.5	,
133	,
132.17	,
128.79	,
130.42	,
128.46	,
129.09	,
129.36	,
128.54	,
126.41	,
126.6	,
127.14	,
124.51	,
122.24	,
124.45	,
123.59	,
124.95	,
127.04	,
128.47	,
127.5	,
125.9	,
127.21	,
126.69	,
123.38	,
124.24	,
123.25	,
126.37	,
124.43	,
124.25	,
125.32	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>