<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];
			//var chartData2 = [];
			//var chartData3 = [];
			//var chartData4 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				//fh = fopen(getSriptPath("F:\amcharts\samples\trial.txt"), 0); // Open the file for reading 

//if(fh!=-1) // If the file has been successfully opened 
//{ 
    //length = flength(fh);         // Get the length of the file     
   // str = fread(fh, length);     // Read in the entire file 
   // fclose(fh);                    // Close the file 
     
// Display the contents of the file     
   // write(str);     
//}
				//var data = [100,4,5,6,7,11,43,77,1,10];
				var data = [541.31	,
549.49	,
554.7	,
561.14	,
557.55	,
563.64	,
567	,
577.54	,
565.37	,
564.95	,
563.67	,
566.16	,
557.61	,
561.64	,
553	,
561.17	,
555.69	,
559.85	,
574.1	,
572.9	,
581.44	,
578.33	,
578.8	,
575.02	,
562.63	,
559.29	,
547.33	,
538.65	,
535	,
541.8	,
546.45	,
542.65	,
545.01	,
551.16	,
546.01	,
538	,
540.16	,
529.28	,
533.88	,
529.83	,
526.1	,
533.3	,
532.2	,
537.55	,
513.23	,
512.43	,
521.19	,
536.72	,
541.95	,
537.3	,
520.39	,
509.94	,
510.46	,
504.01	,
505.93	,
501.8	,
497.06	,
500.72	,
506.91	,
505.15	,
506.64	,
519.46	,
529.55	,
530.66	,
535.28	,
537.31	,
541.52	,
536.93	,
538.77	,
532.3	,
520.04	,
514.62	,
506.45	,
498.16	,
515.84	,
521.51	,
532.11	,
528.04	,
536.11	,
530.73	,
528.08	,
542.58	,
536.97	,
538.59	,
539.65	,
549.08	,
547.73	,
549.23	,
547.48	,
545.89	,
543.76	,
547.2	,
544.51	,
546.64	,
555.19	,
556.44	,
558.25	,
561.29	,
558.23	,
551.82	,
551.69	,
555.95	,
564.19	,
563.77	,
567.87	,
560.27	,
558.45	,
558.94	,
549.88	,
548.9	,
553.65	,
542.69	,
538.03	,
532.38	,
522.97	,
536.92	,
540.73	,
548.69	,
544.75	,
555.19	,
570.81	,
583.74	,
574.1	,
587.78	,
586.25	,
580.88	,
579.63	,
588.41	,
587.81	,
587.9	,
585.25	,
598.42	,
591.18	,
597.27	,
605.4	,
597.27	,
593.29	,
588.78	,
581.64	,
584.9	,
591.11	,
593.42	,
591.97	,
601.63	,
597.78	,
593.14	,
589.52	,
588.63	,
582.36	,
580.32	,
583	,
588.12	,
590.57	,
592.54	,
592.42	,
595.41	,
597.11	,
592.7	,
583.71	,
584.65	,
584.56	,
572.12	,
577.25	,
577.94	,
571.81	,
574.49	,
573.14	,
582.27	,
573.6	,
579.55	,
595.44	,
593.95	,
599.02	,
598.08	,
603.01	,
605.19	,
603.57	,
598.44	,
605.11	,
580.82	,
590.62	,
593.06	,
594.26	,
586.65	,
580.04	,
583.36	,
578.4	,
590.76	,
593.08	,
590.78	,
591.49	,
584.67	,
585.69	,
584.77	,
585.93	,
572.54	,
574.29	,
566.52	,
564.99	,
560.66	,
550.62	,
552.3	,
560.35	,
559.5	,
567.5	,
568.3	,
570.73	,
566.03	,
564.93	,
553.76	,
554.51	,
564.34	,
571.65	,
570.56	,
570.45	,
574.87	,
563.8	,
555.45	,
549.7	,
540.39	,
538.83	,
528.3	,
529.12	,
534.41	,
541.54	,
538.43	,
526.62	,
520.17	,
518	,
522.57	,
535.33	,
533.87	,
538.53	,
534.88	,
536.33	,
522.98	,
523.1	,
534.44	,
537.51	,
545.5	,
539.37	,
543.34	,
563.9	,
548.7	,
545.2	,
537.76	,
546.69	,
567.04	,
557.51	,
540.63	,
588.41	,
587.81	,
587.9	,
585.25	,
598.42	,
591.18	,
597.27	,
605.4	,
597.27	,
593.29	,
588.78	,
581.64	,
584.9	,
591.11	,
593.42	,
591.97	,
601.63	,
597.78	,
593.14	,
589.52	,
588.63	,
580.32	,
583	,
592.42	,
595.41	,
584.65	,
584.56	,
571.81	,
574.49	,
573.6	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>