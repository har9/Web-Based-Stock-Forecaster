<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [33.74	,
32.84	,
32.68	,
34.1	,
33.94	,
34.5	,
35.15	,
34.79	,
34.65	,
34.57	,
34.57	,
34.9	,
35	,
35.33	,
34.91	,
35.02	,
35.02	,
34.62	,
34.54	,
34.93	,
34.98	,
35.17	,
34.82	,
34.71	,
34.42	,
34.75	,
34.14	,
34.26	,
34.9	,
34.82	,
26.48	,
26.91	,
26.98	,
26.42	,
26.18	,
26.56	,
26.77	,
26.93	,
27.04	,
26.95	,
26.84	,
26.75	,
26.75	,
26.26	,
26.33	,
26.48	,
26.69	,
26.45	,
26.41	,
26.17	,
26.2	,
26.37	,
26.34	,
26.3	,
26.37	,
26.45	,
26.33	,
26.01	,
25.82	,
26.04	,
26.04	,
26.2	,
26.15	,
26.29	,
26.71	,
26.88	,
26.96	,
27.32	,
27.26	,
27.66	,
27.6	,
27.66	,
28.17	,
27.91	,
28.24	,
27.93	,
27.96	,
29.87	,
30.01	,
29.95	,
29.93	,
30.09	,
30.2	,
30.23	,
30.5	,
30.88	,
30.78	,
30.93	,
30.9	,
30.98	,
30.98	,
31.14	,
31.03	,
30.79	,
30.89	,
31.26	,
31.25	,
31.49	,
31.71	,
34.65	,
33.7	,
33.7	,
34.06	,
34.79	,
34.5	,
34.25	,
34.25	,
34.23	,
34.19	,
34.35	,
33.89	,
33.74	,
34.05	,
32.82	,
32.84	,
32.68	,
32.6	,
33.02	,
33.13	,
34.1	,
33.94	,
34.17	,
34.41	,
34.34	,
34.5	,
35.15	,
34.94	,
34.81	,
34.8	,
34.79	,
34.65	,
34.92	,
34.57	,
34.57	,
34.9	,
35	,
35.33	,
34.91	,
35.02	,
35.02	,
34.62	,
34.54	,
34.93	,
34.98	,
35.17	,
34.82	,
34.71	,
34.42	,
34.75	,
34.14	,
34.26	,
34.9	,
34.82	,
33.99	,
33.52	,
34.03	,
34.11	,
33.47	,
34.27	,
33.62	,
31.91	,
31.47	,
32.14	,
31.28	,
30.85	,
31.38	,
31.58	,
32.61	,
32.27	,
32.69	,
33.18	,
33.2	,
33.74	,
33.92	,
32.58	,
34.01	,
34.31	,
34.54	,
33.76	,
33.82	,
33.58	,
33.26	,
33.31	,
33.38	,
33.68	,
33.95	,
34.24	,
34.71	,
34.35	,
35.95	,
35.59	,
36.25	,
36.32	,
36.9	,
37.25	,
37.17	,
37.6	,
37.43	,
37.46	,
37.67	,
37.2	,
36.89	,
36.42	,
36.7	,
36.22	,
35.92	,
35.56	,
36.24	,
37.02	,
36.37	,
37.21	,
37.43	,
37.44	,
37.55	,
37.18	,
36.76	,
36.29	,
36.36	,
35.95	,
35.28	,
36.02	,
36.69	,
36.76	,
36.6	,
36.5	,
36.35	,
36.19	,
36.45	,
36.09	,
36.48	,
36.91	,
36.44	,
35.8	,
34.18	,
33.78	,
34.21	,
33.04	,
33.65	,
33.7	,
33.6	,
33.94	,
33.3	,
32.93	,
33.7	,
33.55	,
34.12	,
34.36	,
34.74	,
34.26	,
34.21	,
34.41	,
33.76	,
34.41	,
33.94	,
33.65	,
33.25	,
34.06	,
34.1	,
34.12	,
33.73	,
33.19	,
32.72	,
31.7	,
32.33	,
30.8	,
30.93	,
30.83	,
30.59	,
30.89	,
30.74	,
31.31	,
31.2	,
30.79	,
29.89	,
30.08	,
32	,
31.46	,
31.27	,
30.81	,
30.81	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>