<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];
			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [170.25	,
169.74	,
169.1	,
172.37	,
172.73	,
174.03	,
175.15	,
177.81	,
177.65	,
179.77	,
179.6	,
180.08	,
179.75	,
180.11	,
177.4	,
179.87	,
181	,
183.17	,
183.98	,
184.04	,
184.82	,
187.89	,
186.2	,
185.29	,
185.09	,
187.81	,
184.09	,
185.12	,
183.83	,
183.57	,
158.56	,
156.56	,
158.16	,
155.98	,
152.72	,
154.74	,
154.92	,
157.22	,
157.44	,
157.8	,
160.46	,
160.45	,
160.85	,
158.24	,
156.54	,
158.24	,
159.82	,
160.37	,
158.88	,
156.35	,
154.54	,
155.52	,
157.4	,
157.2	,
159.55	,
160.28	,
159.45	,
156.64	,
156.43	,
157.67	,
156.35	,
159.35	,
159.85	,
160.16	,
161.77	,
161.19	,
160.74	,
159.81	,
160.03	,
161.8	,
162.39	,
162.58	,
166.19	,
166	,
166.36	,
165.43	,
165.96	,
165.89	,
165.85	,
168.22	,
169.86	,
169.73	,
169.84	,
170.24	,
168.23	,
168.38	,
168.01	,
166.78	,
167.44	,
166.81	,
166.89	,
169.46	,
167.78	,
164.91	,
164.67	,
163.42	,
164.8	,
167	,
169.17	,
170.47	,
170.14	,
171.47	,
171.72	,
175.02	,
176.82	,
176.26	,
175.4	,
175.95	,
175.54	,
175.76	,
172.87	,
170.25	,
171.69	,
169.42	,
169.74	,
169.1	,
172.26	,
172.46	,
172.33	,
172.37	,
172.73	,
171.9	,
174.55	,
173.96	,
174.03	,
175.15	,
175.47	,
177.87	,
177.9	,
177.81	,
177.65	,
179.11	,
179.77	,
179.6	,
180.08	,
179.75	,
180.11	,
177.4	,
179.87	,
181	,
183.17	,
183.98	,
184.04	,
184.82	,
187.89	,
186.2	,
185.29	,
185.09	,
187.81	,
184.09	,
185.12	,
183.83	,
183.57	,
180.7	,
182.88	,
188.07	,
187.48	,
183.8	,
186.64	,
181.27	,
180.38	,
178.77	,
178.7	,
177.24	,
172.58	,
176.91	,
177.84	,
180.18	,
176.83	,
180.06	,
183.35	,
183.91	,
186.32	,
186.08	,
186.97	,
189.99	,
190.83	,
190.27	,
189.84	,
191	,
190.71	,
191.8	,
191.88	,
190.18	,
190.24	,
189.98	,
189.93	,
189.64	,
189.19	,
189.75	,
189.59	,
190.07	,
188.86	,
188.52	,
188.41	,
188.2	,
190.19	,
190.95	,
191.95	,
195.45	,
196.62	,
196.89	,
192	,
193.54	,
188.82	,
185.54	,
183.31	,
185.03	,
191.61	,
193.28	,
194.44	,
195.5	,
195.89	,
195.45	,
196.19	,
195.71	,
193.83	,
194.41	,
188.34	,
184.53	,
187.28	,
190.27	,
187.35	,
185.07	,
184.93	,
180.23	,
178.49	,
177.23	,
175.63	,
177.15	,
182.04	,
180.49	,
180.42	,
176.49	,
173.05	,
175.99	,
172.41	,
175.49	,
180.24	,
178.78	,
180.77	,
183.43	,
182.22	,
184.56	,
187.65	,
189.78	,
189	,
190.02	,
188.67	,
189.11	,
191.51	,
190.31	,
192.22	,
191.72	,
192.2	,
189.79	,
191.79	,
191.27	,
189.67	,
190.08	,
186.91	,
187.93	,
182.71	,
184.18	,
189.95	,
189.34	,
191.9	,
190.57	,
192.32	,
189.97	,
193.13	,
191.96	,
191.28	,
187.35	,
187.24	,
188.06	,
191.02	,
187.97	,
192.23	,
191.55	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>