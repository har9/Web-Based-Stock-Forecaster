<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [72.55	,
72.89	,
72.49	,
74.5	,
74.76	,
76.44	,
76.77	,
76.97	,
76.34	,
75.06	,
74.89	,
75.11	,
75.81	,
75.9	,
75.84	,
75.93	,
76.11	,
75.33	,
75.08	,
75.71	,
75.83	,
76.44	,
75.53	,
76.29	,
75.83	,
76.24	,
74.81	,
75.06	,
74.82	,
74.77	,
78.08	,
78.89	,
79.93	,
78.07	,
78.01	,
79.14	,
79.49	,
80.18	,
81.32	,
80.93	,
80.61	,
80.71	,
77.87	,
77.61	,
78.05	,
78.52	,
78.71	,
78.99	,
78.99	,
79.56	,
79.31	,
79.32	,
79.5	,
79.5	,
79.97	,
80.37	,
80.41	,
79.78	,
79.42	,
79.81	,
79.86	,
79.67	,
79.56	,
79.88	,
80.46	,
80.22	,
80.19	,
80.45	,
80.48	,
80.4	,
79.92	,
79.66	,
80.38	,
79.95	,
79.18	,
79.21	,
79.34	,
79.11	,
78.65	,
79.16	,
79.19	,
79.75	,
79.86	,
79.43	,
78.78	,
78.05	,
78.77	,
78.99	,
79.2	,
79.73	,
80.17	,
80.99	,
80.82	,
80.65	,
80.77	,
80.43	,
79.6	,
79.52	,
79.44	,
79.62	,
78.11	,
79.39	,
79.67	,
81.53	,
81.6	,
76.17	,
76.1	,
75.83	,
75.31	,
76.04	,
73.72	,
72.55	,
73.26	,
72.75	,
72.89	,
72.49	,
73.88	,
74.73	,
74.14	,
74.5	,
74.76	,
74.41	,
75.03	,
75.13	,
76.44	,
76.77	,
76.82	,
76.59	,
77.01	,
76.97	,
76.34	,
76.1	,
75.06	,
74.89	,
75.11	,
75.81	,
75.9	,
75.84	,
75.93	,
76.11	,
75.33	,
75.08	,
75.71	,
75.83	,
76.44	,
75.53	,
76.29	,
75.83	,
76.24	,
74.81	,
75.06	,
74.82	,
74.77	,
73.88	,
73.66	,
74.86	,
74.72	,
73.51	,
75.19	,
74.08	,
71.22	,
70.71	,
71.86	,
71.2	,
71.14	,
72.43	,
73.27	,
75	,
74.3	,
75.14	,
76	,
75.84	,
76.57	,
76.89	,
77.37	,
78.51	,
78.24	,
77.11	,
77.2	,
70.58	,
69.26	,
69.36	,
69.64	,
70.29	,
70.65	,
70.85	,
70.4	,
72.01	,
70.47	,
70.71	,
71.47	,
71.7	,
72.27	,
72.26	,
72.9	,
71.79	,
73.32	,
74.37	,
73.34	,
73.37	,
72.61	,
73	,
71.5	,
71.99	,
70.58	,
70.37	,
70.31	,
72.21	,
73.36	,
73.43	,
74.56	,
74.6	,
74.66	,
75.62	,
74.98	,
75.02	,
74.33	,
74.28	,
73.93	,
72.88	,
73.73	,
74.5	,
74.42	,
73.57	,
72.97	,
72.22	,
71.38	,
71.29	,
72.48	,
71.59	,
71.9	,
72.18	,
72.61	,
71.77	,
70.99	,
63.69	,
62.46	,
65.53	,
66.96	,
66.96	,
67.95	,
66.35	,
67.11	,
70.26	,
70.21	,
70.39	,
70.88	,
70.8	,
70.54	,
70.98	,
71.52	,
70.94	,
71.37	,
71.68	,
72.01	,
72.51	,
72.66	,
71.4	,
70.84	,
70.93	,
71.5	,
72.7	,
71.88	,
70.27	,
69.37	,
68.64	,
70	,
69.82	,
70.23	,
69.83	,
70.04	,
70.06	,
68.98	,
67.21	,
67.16	,
67.02	,
68.88	,
69.34	,
69.43	,
67.97	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>