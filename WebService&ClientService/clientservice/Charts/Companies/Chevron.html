<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];

			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [127.9	,
125.73	,
125.65	,
127.6	,
126.96	,
127.49	,
127.93	,
128.64	,
128.75	,
127.54	,
127.86	,
126.8	,
127.4	,
126.21	,
125.18	,
124.28	,
123.83	,
122.66	,
124.24	,
124.96	,
124.72	,
124.14	,
124.8	,
123.49	,
123.06	,
122.4	,
120.68	,
121.47	,
120.55	,
119.32	,
117.34	,
117.8	,
119.1	,
116.69	,
117.03	,
118.7	,
120.3	,
121.83	,
123.68	,
124.24	,
124	,
124.69	,
124.3	,
123.99	,
125.73	,
125.97	,
125.52	,
124.94	,
124.72	,
125.36	,
124.97	,
126.23	,
125.09	,
125.03	,
125.24	,
125.85	,
126.42	,
123.81	,
123.18	,
122.95	,
122.5	,
124.16	,
123.63	,
123.37	,
122.84	,
122.52	,
122.32	,
122.79	,
122.21	,
122.55	,
122.35	,
123.52	,
124.19	,
124.37	,
125.34	,
125.18	,
126.11	,
127.26	,
128.54	,
128.83	,
130.28	,
131.99	,
132.34	,
132.98	,
131.77	,
131.23	,
130.92	,
130.36	,
130.55	,
130.54	,
130.23	,
131.19	,
130.47	,
129.9	,
131.39	,
130.25	,
128.47	,
129.26	,
129.26	,
130.89	,
130.08	,
130.39	,
131.29	,
132.58	,
133.88	,
134.85	,
133.57	,
133.24	,
132.42	,
132.53	,
129.24	,
127.9	,
128.17	,
124.96	,
125.73	,
125.65	,
127.86	,
127.71	,
127.09	,
127.6	,
126.96	,
126.1	,
126.3	,
127.63	,
127.49	,
127.93	,
127.11	,
127.84	,
128.25	,
128.64	,
128.75	,
129.45	,
127.54	,
127.86	,
126.8	,
127.4	,
126.21	,
125.18	,
124.28	,
123.83	,
122.66	,
124.24	,
124.96	,
124.72	,
124.14	,
124.8	,
123.49	,
123.06	,
122.4	,
120.68	,
121.47	,
120.55	,
119.32	,
117.65	,
117.11	,
117.71	,
118.09	,
116.02	,
117.95	,
114.51	,
113.89	,
112.03	,
109.78	,
109.27	,
111.06	,
111.8	,
111.49	,
115.09	,
114	,
116.19	,
115.91	,
115.02	,
117.13	,
117.14	,
117.2	,
119.95	,
116.78	,
115.37	,
117.05	,
118.53	,
118.8	,
117.92	,
118.44	,
117.65	,
116.45	,
116.32	,
115.75	,
115.47	,
116.47	,
117.31	,
118.58	,
117.59	,
116.15	,
115.11	,
108.87	,
111.73	,
114.02	,
113.71	,
112.28	,
110.87	,
106.8	,
107.01	,
104.86	,
104.91	,
102.38	,
100.86	,
101.7	,
106.02	,
109.03	,
112.93	,
112.03	,
113.95	,
113.47	,
113.25	,
113.32	,
113.11	,
112.18	,
112.58	,
108.08	,
108.03	,
107.94	,
110.41	,
108.21	,
105.88	,
104.2	,
103.9	,
102.67	,
105.12	,
106.47	,
108.16	,
108.92	,
106.85	,
108.88	,
108.26	,
103.71	,
103	,
102.53	,
106.06	,
109.53	,
108.35	,
109.31	,
109.61	,
110.43	,
110.18	,
109.98	,
110.86	,
112.78	,
112.4	,
110.44	,
108.35	,
108.6	,
107.86	,
107.96	,
108.58	,
107.06	,
106.68	,
105.9	,
105.16	,
105.16	,
104.73	,
103.55	,
103.95	,
102.91	,
103.54	,
102.42	,
101.62	,
103.13	,
103.17	,
106.7	,
104.75	,
107.03	,
105.92	,
104.2	,
105.67	,
105.25	,
104.28	,
106.9	,
104.98	,
104.79	,
105.28	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>