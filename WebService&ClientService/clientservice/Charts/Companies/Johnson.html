<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];
			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [99.9	,
100.71	,
99.93	,
101.74	,
102.02	,
103.21	,
104.19	,
103.22	,
102.95	,
103.36	,
103.76	,
103.84	,
104.42	,
104.05	,
103.8	,
104.99	,
104.55	,
104.58	,
104.72	,
105.88	,
106.19	,
107.35	,
107.99	,
107.88	,
107.46	,
108.64	,
107.1	,
107.1	,
106.54	,
106.59	,
97.89	,
98.06	,
98.95	,
96.54	,
96.87	,
97.14	,
99.2	,
98.75	,
98.96	,
100	,
100.18	,
100.22	,
99.96	,
99.79	,
101.34	,
101.03	,
101.29	,
100.53	,
99.31	,
100	,
99.51	,
100.91	,
100.5	,
100.91	,
100.52	,
101.02	,
100.87	,
100.69	,
100.58	,
100.64	,
100.25	,
101.14	,
100.96	,
100.98	,
100.81	,
100.3	,
100.76	,
101.46	,
102.17	,
102.46	,
102.68	,
103.22	,
103.18	,
103.22	,
104.1	,
103.32	,
102.53	,
102.53	,
102.45	,
101.93	,
102.81	,
103.81	,
105.27	,
104.75	,
104.59	,
105.76	,
105.65	,
104.99	,
104.62	,
105.87	,
105.86	,
105.42	,
106.47	,
105.72	,
106.04	,
105.8	,
105.1	,
105.38	,
103.28	,
102.22	,
100.37	,
101.8	,
101.27	,
102.47	,
102.19	,
102.2	,
102.11	,
102.11	,
101.96	,
102.3	,
100.09	,
99.9	,
100.16	,
99.82	,
100.71	,
99.93	,
101.08	,
101.16	,
100.63	,
101.74	,
102.02	,
101.17	,
102.7	,
102.96	,
103.21	,
104.19	,
103.1	,
103.23	,
103.44	,
103.22	,
102.95	,
103.73	,
103.36	,
103.76	,
103.84	,
104.42	,
104.05	,
103.8	,
104.99	,
104.55	,
104.58	,
104.72	,
105.88	,
106.19	,
107.35	,
107.99	,
107.88	,
107.46	,
108.64	,
107.1	,
107.1	,
106.54	,
106.59	,
104.3	,
103.85	,
105.13	,
104.86	,
102.39	,
104.91	,
102.08	,
101.23	,
99.12	,
97.01	,
98.21	,
96.78	,
98.7	,
99.2	,
100.36	,
101.22	,
102.63	,
103.13	,
104.07	,
104.79	,
105.56	,
107.04	,
107.78	,
107.46	,
108.62	,
108.82	,
109.01	,
108.2	,
108.82	,
108.91	,
108.75	,
109.07	,
108.16	,
108.3	,
108.83	,
108.76	,
108.18	,
107.86	,
106.88	,
106.7	,
107.21	,
108.25	,
108.03	,
108.51	,
107.72	,
107.56	,
108.51	,
108.52	,
108.05	,
106.24	,
106.72	,
104.43	,
103.96	,
102.76	,
104.07	,
106.81	,
105.55	,
106.74	,
104.28	,
104.59	,
105.06	,
105.33	,
105.36	,
104.57	,
104.52	,
103.79	,
103.28	,
105.56	,
106.39	,
104.94	,
104.58	,
104.76	,
104	,
102.49	,
104.04	,
101.29	,
101.9	,
103.76	,
102.2	,
102.26	,
102.09	,
101.48	,
102.38	,
100.14	,
100.83	,
102.46	,
101.36	,
102.46	,
101.1	,
99.78	,
100.35	,
100.38	,
98.44	,
99.62	,
100.44	,
99.96	,
100.7	,
100.26	,
100.18	,
100.7	,
101.21	,
102.8	,
102.51	,
103.22	,
102.34	,
101.65	,
102.52	,
100.11	,
100.66	,
99.53	,
98.32	,
99.83	,
99.21	,
101.06	,
99.89	,
101.46	,
101.69	,
102.4	,
102.98	,
101.96	,
100.34	,
100.14	,
100.34	,
101.55	,
100.6	,
99.15	,
99.64	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>