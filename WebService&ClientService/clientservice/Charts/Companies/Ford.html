<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>StocksChart</title>
		<link rel="stylesheet" href="../amcharts/style.css"	type="text/css">

		<script src="../amcharts/amcharts.js" type="text/javascript"></script>
		<script src="../amcharts/serial.js" type="text/javascript"></script>
		<script src="../amcharts/amstock.js" type="text/javascript"></script>


		<script type="text/javascript">

			var chartData1 = [];
			generateChartData();

			function generateChartData() {
				var firstDate = new Date();
				firstDate.setDate(firstDate.getDate() - 280);
				firstDate.setHours(0, 0, 0, 0);

				var data = [16.81	,
16.98	,
16.82	,
17.42	,
17.43	,
17.41	,
17.4	,
17.36	,
17.42	,
17.6	,
17.47	,
17.27	,
17.14	,
16.8	,
16.63	,
16.63	,
16.66	,
16.59	,
16.47	,
16.52	,
16.53	,
16.58	,
16.65	,
16.36	,
16.17	,
16.41	,
16.2	,
16.33	,
15.11	,
14.79	,
15.94	,
16.1	,
15.84	,
15.63	,
15.63	,
15.7	,
15.84	,
16.07	,
16	,
15.98	,
16.1	,
16.23	,
16.32	,
15.78	,
15.97	,
16.12	,
16.15	,
15.91	,
15.9	,
15.74	,
15.56	,
15.46	,
15.81	,
15.77	,
15.84	,
15.86	,
15.75	,
15.69	,
15.76	,
15.92	,
15.77	,
15.91	,
15.91	,
16.02	,
16.16	,
16.31	,
16.54	,
16.44	,
16.44	,
16.55	,
16.79	,
16.68	,
17.08	,
17	,
17.01	,
16.9	,
16.52	,
16.56	,
16.63	,
16.79	,
16.83	,
16.78	,
16.67	,
16.88	,
16.97	,
17.2	,
17.2	,
17.28	,
17.24	,
17.21	,
17.22	,
17.32	,
17.32	,
17.11	,
17.43	,
17.3	,
17.47	,
17.55	,
17.54	,
17.8	,
17.74	,
17.72	,
17.7	,
17.82	,
17.78	,
17.84	,
17.62	,
17.64	,
17.57	,
17.46	,
17.02	,
16.81	,
17.02	,
16.87	,
16.98	,
16.82	,
17.09	,
17.17	,
17.21	,
17.42	,
17.43	,
17.31	,
17.43	,
17.36	,
17.41	,
17.4	,
17.17	,
17.23	,
17.19	,
17.36	,
17.42	,
17.41	,
17.6	,
17.47	,
17.27	,
17.14	,
16.8	,
16.63	,
16.63	,
16.66	,
16.59	,
16.47	,
16.52	,
16.53	,
16.58	,
16.65	,
16.36	,
16.17	,
16.41	,
16.2	,
16.33	,
15.11	,
14.79	,
14.59	,
14.56	,
14.59	,
14.52	,
14.1	,
14.21	,
13.84	,
13.79	,
13.54	,
13.78	,
13.62	,
13.98	,
14.02	,
14.17	,
14.26	,
14.13	,
14.4	,
13.78	,
13.82	,
14.16	,
13.91	,
13.95	,
14.09	,
13.99	,
13.95	,
13.94	,
14.19	,
14.17	,
14	,
14.37	,
14.58	,
14.93	,
15.14	,
15.54	,
15.5	,
15.44	,
15.46	,
15.43	,
15.67	,
15.68	,
15.61	,
15.73	,
15.77	,
15.9	,
16.01	,
15.81	,
15.7	,
15.43	,
15.43	,
15.16	,
15.28	,
14.99	,
14.28	,
14.09	,
14.45	,
14.81	,
15.03	,
15.22	,
15.33	,
15.3	,
15.45	,
15.52	,
15.5	,
15.5	,
15.36	,
14.76	,
14.62	,
15.04	,
15.42	,
15.21	,
15.22	,
15.21	,
15.11	,
14.86	,
15.02	,
15.01	,
14.97	,
15.03	,
14.91	,
15.08	,
14.85	,
14.46	,
14.85	,
14.71	,
15.27	,
15.65	,
15.87	,
15.85	,
15.86	,
15.92	,
16.09	,
16.25	,
16.36	,
16.3	,
16.11	,
16.21	,
16.43	,
16.4	,
16.38	,
16.36	,
16.51	,
16.38	,
16.34	,
16.57	,
16.17	,
16.03	,
16.11	,
15.93	,
16.03	,
15.72	,
15.75	,
16.17	,
16.2	,
16.49	,
16.39	,
16.46	,
16.34	,
16.48	,
16.57	,
16.56	,
16.18	,
16.01	,
15.98	,
16.16	,
16.14	,
15.91	,
16.03	]


				for (var i = 0; i < 280; i++) {
					var newDate = new Date(firstDate);
					newDate.setDate(newDate.getDate() + i);

					//var a1 = fread(fh,10);
					var a1 = data[i];
					//var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
					//var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

					//var a2 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b2 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a3 = Math.round(Math.random() * (100 + i)) + 200;
					//var b3 = Math.round(Math.random() * (1000 + i)) + 600 + i * 2;

					//var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
					//var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

					chartData1.push({
						date: newDate,
						value: a1,
						//volume: b1
					});
					//chartData2.push({
						//date: newDate,
						//value: a2,
						//volume: b2
					//});
					//chartData3.push({
						//date: newDate,
						//value: a3,
						//volume: b3
					/*});
					chartData4.push({
						date: newDate,
						value: a4,
						volume: b4
					});*/
				}
			}

			AmCharts.makeChart("chartdiv", {
				type: "stock",
				pathToImages: "../amcharts/images/",
				dataSets: [{
					//title: "first data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData1,
					categoryField: "date"
				},

				/*{
					title: "second data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData2,
					categoryField: "date"
				},

				{
					title: "third data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData3,
					categoryField: "date"
				},

				{
					title: "fourth data set",
					fieldMappings: [{
						fromField: "value",
						toField: "value"
					}, {
						fromField: "volume",
						toField: "volume"
					}],
					dataProvider: chartData4,
					categoryField: "date"
				}*/],

				panels: [{

					showCategoryAxis: false,
					title: "Value",
					percentHeight: 70,

					stockGraphs: [{
						id: "g1",

						valueField: "value",
						comparable: true,
						compareField: "value",
						bullet: "round",
						bulletBorderColor: "#FFFFFF",
						bulletBorderAlpha: 1,
						balloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBalloonText: "[[title]]:<b>[[value]]</b>",
						compareGraphBullet: "round",
						compareGraphBulletBorderColor: "#FFFFFF",
						compareGraphBulletBorderAlpha: 1
					}],

					stockLegend: {
						periodValueTextComparing: "[[percents.value.close]]%",
						periodValueTextRegular: "[[value.close]]"
					}
				},],

				chartScrollbarSettings: {
					graph: "g1"
				},

				chartCursorSettings: {
					valueBalloonsEnabled: true,
					valueLineEnabled:true,
					valueLineBalloonEnabled:true
				},

				periodSelector: {
					position: "left",
					periods: [{
						period: "DD",
						count: 10,
						label: "10 days"
					}, {
						period: "MM",
						selected: true,
						count: 1,
						label: "1 month"
					}, {
						period: "YYYY",
						count: 1,
						label: "1 year"
					}, {
						period: "YTD",
						label: "YTD"
					}, {
						period: "MAX",
						label: "MAX"
					}]
				},

				dataSetSelector: {
					position: "left"
				}
			});
		</script>
	</head>
	<body style="background-color:#FFFFFF">
		<div id="chartdiv" style="width:100%; height:600px;"></div>
	</body>

</html>